<!doctype html>
<html lang="en" class="no-prm">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>LeadSignal</title>
  <!-- Favicons (inline SVG for reliability in local testing) -->
  <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64' fill='none'%3E%3Ccircle cx='32' cy='32' r='26' stroke='%2360a5ff' stroke-width='4' opacity='0.9'/%3E%3Cpath d='M32 14a18 18 0 0 1 0 36' stroke='%233a8bff' stroke-width='6' stroke-linecap='round'/%3E%3Cpath d='M32 20a12 12 0 0 1 0 24' stroke='%231d4ed8' stroke-width='6' stroke-linecap='round' opacity='0.8'/%3E%3Ccircle cx='32' cy='32' r='3' fill='%233a8bff'/%3E%3C/svg%3E?v=2" />
  <link rel="shortcut icon" type="image/svg+xml" href="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 64 64' fill='none'%3E%3Ccircle cx='32' cy='32' r='26' stroke='%2360a5ff' stroke-width='4' opacity='0.9'/%3E%3Cpath d='M32 14a18 18 0 0 1 0 36' stroke='%233a8bff' stroke-width='6' stroke-linecap='round'/%3E%3Cpath d='M32 20a12 12 0 0 1 0 24' stroke='%231d4ed8' stroke-width='6' stroke-linecap='round' opacity='0.8'/%3E%3Ccircle cx='32' cy='32' r='3' fill='%233a8bff'/%3E%3C/svg%3E?v=2" />
  <style>
    :root{--bg1:#3820a6;--bg2:#0f1226;--glass:rgba(16,20,45,.55);--glass2:rgba(25,30,65,.55);--border:rgba(255,255,255,.08);--text:#eaf0ff;--muted:#96a1c9;--accent:#7c5cff;--accent2:#3aa0ff;--chip:#1e2346;--success:#15b888;--hot:#ff355d}
    *{box-sizing:border-box}html,body{height:100%}
    body{margin:0;color:var(--text);background:radial-gradient(1200px 600px at 20% -10%,var(--bg1),transparent),radial-gradient(1200px 700px at 120% 120%,#2d1d7a,transparent),linear-gradient(180deg,#1b1f3b 0%,var(--bg2) 100%);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial}
    a{color:inherit}
    .app{max-width:1240px;margin:42px auto;padding:0 16px}
    .window{display:grid;grid-template-columns:84px 1fr;background:var(--glass);backdrop-filter:blur(14px);border:1px solid var(--border);border-radius:16px;overflow:hidden;box-shadow:0 30px 80px rgba(0,0,0,.35)}
    .sidebar{background:var(--glass2);border-right:1px solid var(--border);display:flex;flex-direction:column;align-items:center;padding:14px 10px;gap:12px}
    .dot{width:10px;height:10px;border-radius:999px;background:var(--accent);margin:6px 0 8px}
    .nav{display:flex;flex-direction:column;gap:8px;width:100%}
    .nav .item{display:flex;flex-direction:column;align-items:center;gap:6px;padding:10px 0;border-radius:12px;color:var(--muted);cursor:pointer;user-select:none;position:relative;transition:background .2s ease,color .2s ease}
    .nav .item.active{background:rgba(255,255,255,.06);color:#fff}
    .nav svg{width:22px;height:22px}
    .nav .item::before{content:"";position:absolute;left:6px;top:50%;transform:translateY(-50%) scaleY(.4);width:4px;height:24px;border-radius:999px;background:linear-gradient(180deg,#ff6a80,var(--hot));box-shadow:0 0 10px rgba(255,53,93,.6);opacity:0;transition:opacity .2s ease, transform .2s ease}
    .nav .item:hover::before,.nav .item.active::before{opacity:1;transform:translateY(-50%) scaleY(1)}

    .main{display:flex;flex-direction:column;min-height:720px}
    .header{display:flex;align-items:center;justify-content:space-between;padding:18px 22px;border-bottom:1px solid var(--border)}
    .h1{font-size:22px;font-weight:800}

    .panel{padding:18px 22px;border-bottom:1px solid var(--border)}
    .panel.hidden{display:none}

    /* Home centering without extra wrappers */
    #homePanel > *{max-width:1100px;margin-left:auto;margin-right:auto}
    #homePanel .hero{display:flex;flex-direction:column;align-items:center;gap:14px;padding:14px 0 34px}
    #homePanel .hero .art{order:-1;margin-bottom:6px;z-index:0}
    #homePanel .hero .copy,.hero .cta-row,.proof{position:relative;z-index:1}
    #homePanel .hero .copy{max-width:760px;margin:0 auto;text-align:center}
    #homePanel .hero .cta-row{justify-content:center}
    #homePanel .proof{justify-content:center}
    #homePanel .home-h3{text-align:center}
    #homePanel .home-section{margin-top:28px}

    .hero{display:grid;grid-template-columns:minmax(0,1fr) auto;gap:24px;align-items:center}
    .hero .eyebrow{display:inline-flex;gap:8px;align-items:center;font-size:12px;color:#c9d3ff;background:rgba(255,255,255,.06);border:1px solid var(--border);padding:6px 10px;border-radius:999px;margin-bottom:10px}
    .hero .eyebrow .zap{display:inline-block;margin-right:8px;color:#ffd54a;animation:zapPulse 1.15s ease-in-out infinite, zapGlow 1.15s ease-in-out infinite;will-change:transform,filter}
    @keyframes zapPulse{0%,100%{transform:translateY(0) rotate(0deg) scale(1)}50%{transform:translateY(-1px) rotate(-10deg) scale(1.1)}}
    @keyframes zapGlow{0%,100%{filter:drop-shadow(0 0 0 rgba(255,230,120,0))}50%{filter:drop-shadow(0 0 10px rgba(255,230,120,.95))}}
    @media (prefers-reduced-motion: reduce){.hero .eyebrow .zap{animation:none}}
    .hero .copy h2{margin:0 0 6px;font-size:34px;letter-spacing:.2px}
    .hero .copy p{margin:6px 0 0;color:var(--muted);max-width:52ch}
    .cta{height:44px;border:0;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;border-radius:12px;padding:0 18px;font-weight:800;cursor:pointer}
    #startBtn{position:relative;animation:ctaGlow 2.2s cubic-bezier(.2,.7,.2,1) infinite;box-shadow:0 0 0 0 rgba(124,92,255,0),0 0 0 0 rgba(58,160,255,0)}
    #startBtn::after{content:"";position:absolute;inset:-2px;border-radius:inherit;background:radial-gradient(60% 60% at 50% 50%, rgba(124,92,255,.35), transparent 70%);opacity:.0;transition:opacity .25s ease;pointer-events:none}
    #startBtn:hover::after{opacity:.9}
    @keyframes ctaGlow{0%,100%{transform:translateY(0) scale(1);box-shadow:0 0 0 0 rgba(124,92,255,.0),0 0 0 0 rgba(58,160,255,.0)}50%{transform:translateY(-1px) scale(1.02);box-shadow:0 0 24px 6px rgba(124,92,255,.35),0 0 36px 12px rgba(58,160,255,.25)}}
    @media (prefers-reduced-motion: reduce){ #startBtn{animation:none} }
    .cta.secondary{background:transparent;border:1px solid var(--border)}
    .hero .cta-row{display:flex;gap:10px;margin-top:16px}

    .hero .art{position:relative;width:auto;height:auto;aspect-ratio:auto;border-radius:0;overflow:visible;background:transparent;box-shadow:none;padding:0;z-index:0}
    .hero .art img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;object-position:center;display:block}
    .hero .art::after{content:none}
    .hero .art,.hero .art *{pointer-events:none;cursor:default}

    .art--logo{display:flex;align-items:center;justify-content:center;background:radial-gradient(900px 420px at 80% -10%,rgba(124,92,255,.18),transparent),radial-gradient(700px 520px at -20% 120%,rgba(58,160,255,.16),transparent),#0e1430;perspective:1000px}
    .logo3d{position:relative;display:flex;align-items:center;gap:18px;padding:22px 26px;border-radius:18px;background:rgba(255,255,255,.04);border:1px solid var(--border);transform-style:preserve-3d;will-change:transform;transition:transform .25s ease, box-shadow .25s ease;box-shadow:0 14px 40px rgba(0,0,0,.4);margin:0 auto}
    .logo3d:hover{box-shadow:0 28px 80px rgba(0,0,0,.45)}
    .logo-icon svg{display:block;filter:drop-shadow(0 6px 18px rgba(56,128,255,.35))}
    .logo-word{font-weight:900;font-size:clamp(26px,3.2vw,42px);letter-spacing:.4px;line-height:1;background:linear-gradient(120deg,#7cc0ff,#3a8bff,#1d4ed8);background-size:200% 200%;-webkit-background-clip:text;background-clip:text;color:transparent;animation:logoSweep 6s ease-in-out infinite;transform:translateZ(40px);text-shadow:0 2px 16px rgba(30,64,175,.35)}
    @keyframes logoSweep{0%,100%{background-position:0% 50%}50%{background-position:100% 50%}}
    .logo-shine{position:absolute;inset:-100px;background:radial-gradient(400px 140px at var(--sx,20%) var(--sy,0%),rgba(120,180,255,.22),transparent 55%);mix-blend-mode:screen;pointer-events:none;transform:translateZ(60px)}
    .hero .art.art--logo::after{pointer-events:none}
    .hero .art.art--logo,.hero .art.art--logo *{pointer-events:auto !important;cursor:default}

    .logo3d .arc{transform-box:view-box;transform-origin:50% 50%}
    .logo3d .arc--cw{animation:spinCW 2.6s linear infinite}
    .logo3d .arc--ccw{animation:spinCCW 2.6s linear infinite}
    @keyframes spinCW{from{transform:rotate(0)}to{transform:rotate(360deg)}}
    @keyframes spinCCW{from{transform:rotate(0)}to{transform:rotate(-360deg)}}
    @media (prefers-reduced-motion: reduce){.logo3d .arc--cw,.logo3d .arc--ccw{animation:none}}

    .reveal-stagger>*{opacity:0;transform:translateY(60px);will-change:opacity,transform}
    .reveal-stagger.is-in>*{animation:slideUpIn .95s cubic-bezier(.2,.7,.2,1) both;animation-delay:var(--d,0ms)}
    @keyframes slideUpIn{from{opacity:0;transform:translateY(60px)}to{opacity:1;transform:translateY(0)}}
    @media (prefers-reduced-motion: reduce){.reveal-stagger>*{opacity:1;transform:none}.reveal-stagger.is-in>*{animation:none}}
    .no-prm .reveal-stagger>*{opacity:0;transform:translateY(60px)}
    .no-prm .reveal-stagger.is-in>*{animation:slideUpIn .95s cubic-bezier(.2,.7,.2,1) both;animation-delay:var(--d,0ms)}

    .proof{display:grid;grid-template-columns:repeat(3,1fr);gap:10px;margin-top:16px}
    .metric{display:flex;gap:10px;align-items:center;border:1px solid var(--border);background:rgba(255,255,255,.04);padding:10px 12px;border-radius:12px}
    .metric .k{font-weight:900;font-size:18px}
    .metric .d{font-size:12px;color:var(--muted)}

    .home-section{margin-top:18px}
    .home-h3{font-size:16px;margin:0 0 10px;font-weight:900}
    .features{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .feature{border:1px solid var(--border);background:rgba(255,255,255,.04);border-radius:14px;padding:14px}
    .feature h4{margin:0 0 6px;font-size:15px}
    .feature p{margin:0;color:var(--muted);font-size:13px;line-height:1.5}

    .usecases{display:grid;grid-template-columns:repeat(3,1fr);gap:12px}
    .use{border:1px solid var(--border);background:rgba(255,255,255,.04);border-radius:14px;padding:14px}
    .use h4{margin:0 0 6px;font-size:15px}
    .use ul{margin:6px 0 0 18px;padding:0;color:var(--muted);font-size:13px}

    .faq{display:grid;grid-template-columns:1fr 1fr;gap:12px}
    .qa{border:1px solid var(--border);background:rgba(255,255,255,.04);border-radius:14px;padding:14px}
    .qa h4{margin:0 0 6px;font-size:14px}
    .qa p{margin:0;color:var(--muted);font-size:13px;line-height:1.5}

    .pph-wrap{display:flex;justify-content:flex-start}
    .pph-card{position:relative;display:inline-block;border:1px solid var(--border);background:var(--glass);backdrop-filter:blur(10px);border-radius:14px;padding:8px;box-shadow:0 14px 30px rgba(0,0,0,.28);overflow:hidden}
    .pph-card::before{content:"";position:absolute;inset:0;border-radius:inherit;background:radial-gradient(900px 420px at 80% -10%,rgba(124,92,255,.14),transparent),radial-gradient(700px 520px at -20% 120%,rgba(58,160,255,.12),transparent);mix-blend-mode:screen;pointer-events:none;z-index:2}
    .pph-card iframe{display:block;width:245px;height:320px;border:0;border-radius:10px}

    .footer{display:flex;align-items:center;justify-content:space-between;border-top:1px solid var(--border);padding:12px 22px;color:var(--muted);font-size:12px;margin-top:16px}
    .footer-follow{display:flex;flex-direction:column;align-items:flex-start;gap:14px;border-top:1px solid var(--border);padding-top:12px;margin-top:16px}
    .social-title{font-weight:900;letter-spacing:.8px;color:var(--muted);font-size:12px}
    .social{display:flex;gap:14px;flex-wrap:wrap}
    .social-icon{display:inline-flex;align-items:center;justify-content:center;width:40px;height:40px;border-radius:999px;background:rgba(255,255,255,.05);color:#fff;text-decoration:none;transition:transform .15s ease, box-shadow .2s ease, background .2s ease;box-shadow:0 0 0 1px var(--border) inset;padding:1px}
    .social-icon:hover{transform:translateY(-1px);background:rgba(255,255,255,.08);box-shadow:0 10px 20px rgba(0,0,0,.35)}
    .social-icon svg{width:20px;height:20px;display:block;fill:currentColor}

    .form-grid{display:grid;grid-template-columns:2fr 2fr 1fr auto;gap:12px;align-items:end}
    label{display:block;font-size:12px;color:var(--muted);margin-bottom:6px}
    select,input{height:40px;border:1px solid var(--border);border-radius:12px;background:#0b1128;color:var(--text);padding:0 12px;outline:none}
    select:focus,input:focus{border-color:#4f46e5}
    .primary{height:40px;border:0;background:linear-gradient(135deg,var(--accent),var(--accent2));color:#fff;border-radius:12px;padding:0 16px;font-weight:800;cursor:pointer}

    .toolbar{display:flex;gap:10px;flex-wrap:wrap;margin-top:14px}
    .chip{display:inline-flex;align-items:center;justify-content:center;height:36px;line-height:1;padding:0 12px;border-radius:999px;border:1px solid var(--border);background:rgba(255,255,255,.05);color:#bfc7ff;font-weight:700}

    .content{padding:18px 22px}
    .counts{color:var(--muted);font-size:13px;margin-bottom:10px}

    .grid-cards{display:grid;grid-template-columns:1fr 1fr 1fr;gap:18px}
    .card{position:relative;height:300px;border-radius:16px;overflow:hidden;background:#0e1430;border:1px solid var(--border);transition:transform .24s ease, box-shadow .24s ease, border-color .24s ease}
    .card:hover{transform:translateY(-4px) scale(1.01);box-shadow:0 22px 60px rgba(0,0,0,.5);border-color:rgba(124,92,255,.35)}
    .cover{position:absolute;inset:0}
    .cover img{position:absolute;inset:0;width:100%;height:100%;object-fit:cover;filter:saturate(1.1) contrast(1.05) brightness(.9)}
    .cover::after{content:"";position:absolute;inset:0;background:linear-gradient(180deg,rgba(0,0,0,.15) 20%,rgba(0,0,0,.55) 70%,rgba(0,0,0,.85) 100%),linear-gradient(135deg,rgba(124,92,255,.25),rgba(58,160,255,.18) 50%,rgba(0,0,0,.1) 100%)}
    .slides .slide{opacity:0;transition:opacity .35s ease}
    .slides .slide.active{opacity:1}
    .navbtn{position:absolute;top:12px;right:12px;display:flex;gap:6px;z-index:3}
    .navbtn button{width:28px;height:28px;border-radius:999px;border:1px solid var(--border);background:rgba(0,0,0,.35);color:#fff;cursor:pointer;font-size:0}
    .navbtn button[data-role="prev"]::before{content:'\2039';font-size:14px;line-height:28px;display:inline-block}
    .navbtn button[data-role="next"]::before{content:'\203A';font-size:14px;line-height:28px;display:inline-block}
    .dots{position:absolute;right:14px;bottom:12px;display:flex;gap:6px;z-index:3}
    .dots .dot{width:6px;height:6px;border-radius:50%;background:rgba(255,255,255,.45)}
    .dots .dot.active{background:#fff}

    .card-body{position:absolute;left:0;right:0;bottom:0;padding:14px 14px 12px;z-index:2}
    .title{font-weight:900;font-size:20px;margin:0 0 6px;line-height:1.15;letter-spacing:.1px;display:-webkit-box;-webkit-line-clamp:2;-webkit-box-orient:vertical;overflow:hidden}
    .meta{font-size:12px;color:#cbd2ff99;margin-top:6px}
    .chips{display:flex;gap:8px;flex-wrap:wrap}
    .chip--rating{color:#ffd579;border-color:rgba(255,213,121,.35);background:rgba(255,213,121,.12)}
    .chip--rating .star{display:inline-block;font-size:14px;line-height:1;margin-right:6px;filter:drop-shadow(0 1px 0 rgba(0,0,0,.2))}

    .actions{display:flex;flex-wrap:wrap;gap:8px;overflow:hidden;max-height:0;padding-top:0;margin-top:0;opacity:0;transform:translateY(8px);transition:max-height .32s ease, padding .32s ease, opacity .22s ease, transform .22s ease}
    .card:hover .actions{max-height:var(--act-h,72px);padding-top:8px;opacity:1;transform:translateY(0)}
    .chips,.meta{transition:transform .28s ease}
    .card:hover .chips,.card:hover .meta{transform:translateY(calc(-1 * var(--lift, 10px)))}
    .btn{height:34px;padding:0 12px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.06);color:#eaf0ff;text-decoration:none;display:inline-flex;align-items:center;font-weight:700}
    .btn--call{border-color:#1e8b6f;background:rgba(20,145,113,.12)}
    .btn--wa{border-color:#1e8b6f;background:rgba(20,145,113,.12)}
    .btn--site{border-color:#3953a7;background:rgba(57,83,167,.12)}
    .btn--maps{border-color:#5a63d6;background:rgba(90,99,214,.12)}

    .pagination{display:flex;gap:8px;justify-content:center;margin-top:16px}
    .pagebtn{height:34px;padding:0 12px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.04);color:#fff}
    .pagebtn.active{background:var(--accent);border-color:transparent}

    .overlay{position:fixed;inset:0;background:rgba(5,8,20,.7);backdrop-filter:blur(4px);display:none;align-items:center;justify-content:center;z-index:50}
    .overlay.show{display:flex}
    .spinner{width:56px;height:56px;border-radius:9999px;border:6px solid rgba(255,255,255,0.15);border-top-color:rgba(255,255,255,0.9);animation:spin 1s linear infinite}
    @keyframes spin{to{transform:rotate(360deg)}}
    .stage{margin-left:14px;font-weight:700}

    .toast{position:fixed;bottom:16px;left:50%;transform:translateX(-50%);display:none}
    .toast .bubble{background:#11172f;color:#fff;border:1px solid var(--border);padding:8px 12px;border-radius:10px;box-shadow:0 10px 30px rgba(0,0,0,.35)}
    .toast.show{display:block}

    @media(max-width:1100px){.grid-cards{grid-template-columns:1fr 1fr}.features,.usecases,.faq{grid-template-columns:1fr}}
    @media(max-width:760px){.window{grid-template-columns:1fr}.sidebar{flex-direction:row;justify-content:center;position:sticky;top:0;z-index:5}.form-grid{grid-template-columns:1fr}.grid-cards{grid-template-columns:1fr}.hero{grid-template-columns:1fr}.header{flex-wrap:wrap;gap:10px}.proof{grid-template-columns:1fr}}
    @media (max-width:900px){.hero{grid-template-columns:1fr}.hero .art{height:clamp(180px,45vw,420px);aspect-ratio:16/9}}
    @media (min-width:1600px){.hero{grid-template-columns:minmax(0,1fr) auto}}

    .playerbar{display:none;position:sticky;bottom:0;left:0;right:0;padding:10px 18px;background:linear-gradient(180deg, rgba(11,17,40,.0), rgba(11,17,40,.65));backdrop-filter:blur(10px);z-index:2;pointer-events:none}
    .playerbar .pb-wrap,.playerbar .pb-btn,.playerbar input{pointer-events:auto}
    .pb-wrap{max-width:720px;margin:0 auto;border:1px solid var(--border);border-radius:14px;padding:8px 12px;display:flex;align-items:center;gap:12px;background:rgba(16,20,45,.6)}
    .pb-btn{height:32px;padding:0 10px;border-radius:10px;border:1px solid var(--border);background:rgba(255,255,255,.05);color:#fff;cursor:pointer;font-size:0}
    #pbPrev::before{content:'\2039';font-size:14px}
    #pbNext::before{content:'\203A';font-size:14px}
    .pb-status{min-width:64px;text-align:center;color:var(--muted);font-weight:700}
    .playerbar input[type="range"]{flex:1}
    .playerbar input[type="range"]::-webkit-slider-thumb{appearance:none;width:12px;height:12px;border-radius:999px;background:var(--accent);cursor:pointer}
    .playerbar input[type="range"]::-webkit-slider-runnable-track{height:4px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent2))}
    .playerbar input[type="range"]::-moz-range-thumb{width:12px;height:12px;border-radius:999px;background:var(--accent);border:0}
    .playerbar input[type="range"]::-moz-range-track{height:4px;border-radius:999px;background:linear-gradient(90deg,var(--accent),var(--accent2))}

    .combo-menu{position:absolute;z-index:9999;min-width:240px;max-width:520px;max-height:260px;overflow:auto;padding:6px;border:1px solid var(--border);border-radius:12px;background:rgba(16,20,45,.95);box-shadow:0 20px 60px rgba(0,0,0,.45);backdrop-filter:blur(8px)}
    .combo-item{padding:8px 10px;border-radius:8px;color:var(--text);cursor:pointer}
    .combo-item:hover,.combo-item.active{background:rgba(255,255,255,.08)}
    .combo-empty{padding:10px;color:var(--muted)}

    @media (max-width:480px){
      .app{margin:18px auto;padding:0 10px}
      .header{padding:14px 16px}
      .panel{padding:14px 16px}
      .hero .copy h2{font-size:26px}
      .card{height:260px}
      .btn{height:32px;padding:0 10px}
      .chip{height:32px;padding:0 10px}
    }
  </style>
</head>
<body>
  <div class="app">
    <div class="window">
      <aside class="sidebar">
        <div class="dot"></div>
        <div class="nav" id="nav">
          <div class="item active" data-target="homePanel">
            <svg viewBox="0 0 24 24" fill="none"><path d="M3 10.5 12 3l9 7.5V21a1 1 0 0 1-1 1h-5v-6H9v6H4a1 1 0 0 1-1-1v-10.5z" stroke="currentColor" stroke-width="1.6"/></svg>
            <span style="font-size:11px">Home</span>
          </div>
          <div class="item" data-target="searchPanel">
            <svg viewBox="0 0 24 24" fill="none"><circle cx="11" cy="11" r="7" stroke="currentColor" stroke-width="1.6"/><path d="m20 20-3.5-3.5" stroke="currentColor" stroke-width="1.6"/></svg>
            <span style="font-size:11px">Search</span>
          </div>
        </div>
      </aside>

      <section class="main">
        <div class="header">
          <div class="h1" id="pageTitle">Discover Leads</div>
        </div>

        <!-- Home Panel -->
        <div id="homePanel" class="panel">
          <div class="hero">
            <div class="copy">
              <div class="eyebrow">⚡ Instant lead lists • No scraping required</div>
              <h2>Find real businesses. Contact them today.</h2>
              <p>Pull cleaned leads from Google Maps: phones, WhatsApp, addresses, photos and ratings. Filter by city and category, then export to CSV. Free while we warm up the engines.</p>
              <div class="cta-row">
                <button id="startBtn" class="cta">Start searching</button>
              </div>
              <div class="proof">
                <div class="metric"><div class="k" id="mLeads">25k+</div><div class="d">rows processed</div></div>
                <div class="metric"><div class="k">~92%</div><div class="d">phone coverage</div></div>
                <div class="metric"><div class="k"><span id="mCities">12</span></div><div class="d">Egypt cities</div></div>
              </div>
            </div>
            <div class="art art--logo" id="homePreview">
              <div class="logo3d" aria-label="LeadSignal logo">
                <div class="logo-icon" aria-hidden="true">
                  <svg viewBox="0 0 120 120" width="120" height="120" role="img">
                    <defs>
                      <linearGradient id="lg" x1="0%" y1="0%" x2="100%" y2="100%">
                        <stop offset="0%"  stop-color="#60a5ff"/>
                        <stop offset="50%" stop-color="#3a8bff"/>
                        <stop offset="100%" stop-color="#1d4ed8"/>
                      </linearGradient>
                    </defs>
                    <circle cx="60" cy="60" r="44" fill="none" stroke="url(#lg)" stroke-width="6" opacity="0.35"/>
                    <path class="arc arc--cw"  d="M60 30a30 30 0 0 1 0 60" fill="none" stroke="url(#lg)" stroke-width="8" stroke-linecap="round"/>
                    <path class="arc arc--ccw" d="M60 40a20 20 0 0 1 0 40" fill="none" stroke="url(#lg)" stroke-width="8" stroke-linecap="round" opacity="0.8"/>
                    <path class="arc arc--cw"  d="M60 50a10 10 0 0 1 0 20" fill="none" stroke="url(#lg)" stroke-width="8" stroke-linecap="round"/>
                    <circle cx="60" cy="60" r="5" fill="url(#lg)"/>
                  </svg>
                </div>
                <div class="logo-word">LeadSignal</div>
                <div class="logo-shine" style="display:none"></div>
              </div>
            </div>
          </div>

          <!-- How it works -->
          <div class="home-section">
            <h3 class="home-h3">How it works</h3>
            <div class="features">
              <div class="feature"><h4>1. Search</h4><p>Choose a category and an area. We read from a live Supabase table of parsed Google Maps results.</p></div>
              <div class="feature"><h4>2. Clean</h4><p>Duplicates removed, weird encodings fixed, phones normalized. Optional WhatsApp one-click.</p></div>
              <div class="feature"><h4>3. Export</h4><p>Download a CSV for outreach or ads lookalikes. No spreadsheets gymnastics.</p></div>
            </div>
          </div>

          <!-- Built for real use -->
          <div class="home-section">
            <h3 class="home-h3">Built for real use</h3>
            <div class="usecases">
              <div class="use"><h4>Local agencies</h4><ul><li>Find 200 salons in 3 minutes</li><li>WhatsApp-first outreach</li><li>Filter by city</li></ul></div>
              <div class="use"><h4>SMB owners</h4><ul><li>Identify partners and suppliers</li><li>Check ratings and photos</li><li>Export contacts</li></ul></div>
              <div class="use"><h4>Freelancers</h4><ul><li>Lead lists for gigs</li><li>Simple UI, no code</li><li>Free to start</li></ul></div>
            </div>
          </div>

          <!-- FAQ -->
          <div class="home-section">
            <h3 class="home-h3">FAQ</h3>
            <div class="faq">
              <div class="qa"><h4>Where is the data from?</h4><p>Parsed from public Google Maps listings, stored in a Supabase table you control.</p></div>
              <div class="qa"><h4>Is it legal?</h4><p>We display publicly available business info. You decide how to use it within your local laws.</p></div>
              <div class="qa"><h4>Can I export all results?</h4><p>Export per page now. Full export endpoint is on the roadmap.</p></div>
              <div class="qa"><h4>Why do some records miss phones?</h4><p>Some listings don't publish numbers. We still include address, site, photos and rating.</p></div>
            </div>
          </div>

          <!-- Hire Me (PeoplePerHour) -->
          <div class="home-section">
            <div class="pph-wrap">
              <div class="pph-card">
                <div id="pph-hireme"></div>
              </div>
            </div>
          </div>

          <!-- Social -->
          <div class="footer-follow">
            <div class="social-title">FOLLOW ME</div>
            <div class="social">
              <a class="social-icon" href="https://www.linkedin.com/in/halim99/" target="_blank" rel="noopener" aria-label="LinkedIn" title="LinkedIn">
                <svg viewBox='0 0 24 24' aria-hidden='true'><path d='M4.98 3.5a2.5 2.5 0 1 1 0 5.001 2.5 2.5 0 0 1 0-5zM3 9h4v12H3zM14.5 9c-2.21 0-3.5 1.204-3.5 2.864V21h4v-6.3c0-1.052.75-1.7 1.75-1.7 1.02 0 1.75.69 1.75 1.7V21h4v-7.2C22.5 10.6 20.74 9 18.25 9c-1.44 0-2.58.63-3.25 1.57V9h-0.5z'/></svg>
              </a>
              <a class="social-icon" href="https://github.com/Mohamed-Abdulhalim" target="_blank" rel="noopener" aria-label="GitHub" title="GitHub">
                <svg viewBox='0 0 24 24' aria-hidden='true'><path d='M12 .5a11.5 11.5 0 0 0-3.64 22.41c.58.11.79-.25.79-.56v-2c-3.22.7-3.9-1.4-3.9-1.4-.53-1.34-1.3-1.7-1.3-1.7-1.06-.72.08-.71.08-.71 1.17.08 1.78 1.22 1.78 1.22 1.04 1.78 2.72 1.27 3.38.97.11-.77.41-1.27.74-1.56-2.57-.29-5.27-1.29-5.27-5.73 0-1.27.46-2.31 1.22-3.13-.12-.3-.53-1.5.12-3.13 0 0 .99-.32 3.25 1.2a11.2 11.2 0 0 1 5.92 0c2.26-1.52 3.25-1.2 3.25-1.2.65 1.63.24 2.83.12 3.13.76.82 1.22 1.86 1.22 3.13 0 4.45-2.71 5.44-5.29 5.72.42.37.79 1.1.79 2.22v3.29c0 .31.21.67.8.56A11.5 11.5 0 0 0 12 .5Z'/></svg>
              </a>
            </div>
          </div>
        </div><!-- /#homePanel -->

        <!-- Global footer (visible on both panels) -->
        <div class="footer">
          <div>© <span id="year"></span> LeadSignal | All rights reserved</div>
          <div><a href="#" id="jumpSearch">Go to Search →</a></div>
        </div>

        <!-- Search Panel -->
        <div id="searchPanel" class="panel hidden">
          <form id="searchForm" class="form-grid">
            <div>
              <label>Category</label>
              <input id="category" list="categoryList" placeholder="Type or choose" autocomplete="off" />
              <datalist id="categoryList"><option value="Clinics"></option></datalist>
            </div>
            <div>
              <label>Area</label>
              <select id="location"><option value="Cairo, Egypt">Cairo, Egypt</option></select>
            </div>
            <div>
              <label>Per page</label>
              <select id="perPage"><option>20</option><option>50</option><option>100</option></select>
            </div>
            <button type="submit" class="primary">Search</button>
          </form>
          <div id="toolbar" class="toolbar" style="display:none">
            <select id="sortBy" class="chip">
              <option value="rating_desc">Sort: Rating ↓</option>
              <option value="reviews_desc">Sort: Reviews ↓</option>
              <option value="name_asc">Sort: Name A–Z</option>
            </select>
            <button id="exportBtn" class="chip">Export CSV (page)</button>
          </div>
        </div>

        <div class="content">
          <div class="counts" id="counts"></div>
          <section id="resultsSection" class="results" style="display:none">
            <div id="results" class="grid-cards"></div>
            <div id="pagination" class="pagination"></div>
          </section>
        </div>

        <div id="playerBar" class="playerbar" aria-label="Pagination">
          <div class="pb-wrap">
            <button id="pbPrev" class="pb-btn" aria-label="Previous page">⏮</button>
            <div class="pb-status"><span id="pbPage">1</span>/<span id="pbPages">1</span></div>
            <input id="pbRange" type="range" min="1" max="1" value="1" step="1" />
            <button id="pbNext" class="pb-btn" aria-label="Next page">⏭</button>
          </div>
        </div>

      </section>
    </div>
  </div>

  <div id="loading" class="overlay"><div style="display:flex;align-items:center"><div class="spinner"></div><div id="stageText" class="stage"></div></div></div>
  <div id="toast" class="toast"><div class="bubble" id="toastMsg"></div></div>

  <!-- PPH embed script lives once, after its target exists -->
  <script>
    (function(d, s) {
      var useSSL = (location.protocol === 'https:');
      var where = d.getElementsByTagName(s)[0];
      var js = d.createElement(s);
      js.src = (useSSL ? 'https:' : 'http:') +  '//www.peopleperhour.com/hire/950866096/12102526.js?width=245&height=320&orientation=vertical&theme=dark&hourlies=1087337%2C1089777&rnd='+parseInt(Math.random()*10000, 10);
      try { where.parentNode.insertBefore(js, where); } catch (e) { if (typeof console !== 'undefined' && console.log && e.stack) { console.log(e.stack); } }
    })(document, 'script');
  </script>

  <script>
    const stages=["Searching for leads","Adapting to the category","Collecting data","Cleaning the data","Finalizing"]
    const state={items:[],page:1,pages:1,perPage:20,q:"",sort:"rating_desc",category:"",location:""}
    const qs=id=>document.getElementById(id)

    function attachCategoryCombo(){
      const input = qs('category');
      const list = document.getElementById('categoryList');
      if(!input || !list) return;
      const options = Array.from(list.querySelectorAll('option')).map(o=>o.value).filter(Boolean);
      const menu = document.createElement('div');
      menu.className = 'combo-menu';
      menu.style.display = 'none';
      menu.setAttribute('role','listbox');
      document.body.appendChild(menu);
      let visible = [];
      let activeIndex = -1;
      const positionMenu = () => {
        const r = input.getBoundingClientRect();
        menu.style.top = (window.scrollY + r.bottom + 6) + 'px';
        menu.style.left = (window.scrollX + r.left) + 'px';
        menu.style.minWidth = Math.max(240, Math.round(r.width)) + 'px';
      };
      const hideMenu = () => { menu.style.display='none'; activeIndex = -1; };
      const showMenu = () => { if(!visible.length){ hideMenu(); return; } positionMenu(); menu.style.display='block'; };
      const setActive = (idx) => { const items = menu.querySelectorAll('.combo-item'); items.forEach((el,i)=> el.classList.toggle('active', i===idx)); activeIndex = idx; ensureVisible(); };
      const ensureVisible = () => { const a = menu.querySelector('.combo-item.active'); if(!a) return; const ar = a.getBoundingClientRect(); const mr = menu.getBoundingClientRect(); if(ar.top < mr.top) menu.scrollTop += ar.top - mr.top - 6; if(ar.bottom > mr.bottom) menu.scrollTop += ar.bottom - mr.bottom + 6; };
      const choose = (idx) => { if(idx < 0 || idx >= visible.length) return; input.value = visible[idx]; hideMenu(); input.dispatchEvent(new Event('change', { bubbles: true })); };
      const render = (q) => { const needle = String(q||'').trim().toLowerCase(); visible = options.filter(o => o.toLowerCase().includes(needle)).slice(0, 60); menu.innerHTML = ''; if(!visible.length){ const empty = document.createElement('div'); empty.className = 'combo-empty'; empty.textContent = 'No matches'; menu.appendChild(empty); return; } visible.forEach((val, idx) => { const item = document.createElement('div'); item.className = 'combo-item'; item.textContent = val; item.setAttribute('role','option'); item.addEventListener('mouseenter', () => setActive(idx)); item.addEventListener('mousedown', (e) => { e.preventDefault(); choose(idx); }); menu.appendChild(item); }); activeIndex = -1; };
      input.addEventListener('focus', () => { render(input.value); showMenu(); });
      input.addEventListener('input', () => { render(input.value); showMenu(); });
      input.addEventListener('keydown', (e) => { if(menu.style.display !== 'block') return; if(e.key === 'ArrowDown') { e.preventDefault(); setActive(Math.min(activeIndex + 1, visible.length - 1)); } else if(e.key === 'ArrowUp') { e.preventDefault(); setActive(Math.max(activeIndex - 1, 0)); } else if(e.key === 'Enter') { if(activeIndex>=0){ e.preventDefault(); choose(activeIndex); } } else if(e.key === 'Escape') { hideMenu(); } });
      document.addEventListener('mousedown', (e) => { if(e.target === input || menu.contains(e.target)) return; hideMenu(); });
      window.addEventListener('scroll', positionMenu, true);
      window.addEventListener('resize', positionMenu);
      input.setAttribute('data-list-id', list.id);
      input.removeAttribute('list');
    }

    function showOverlay(b){qs("loading").classList.toggle("show",b)}
    function setStage(t){qs("stageText").textContent=t}
    function runStages(done){showOverlay(true);let i=0;setStage(stages[i]);const tick=()=>{i++;if(i<stages.length){setStage(stages[i]);setTimeout(tick,1100)}else{showOverlay(false);done()}};setTimeout(tick,1100)}

    function sanitize(s){if(!s)return"";const d=document.createElement("div");d.textContent=String(s);return d.innerHTML}
    function normalizeUrl(u){if(!u)return"";try{new URL(u);return u}catch{return "https://"+u}}
    function phoneDisplay(p){let s=String(p||"").trim();s=s.replace(/\s+/g,"").replace(/\.0$/,'');return s}

    async function fetchResults(category,location,page,perPage){const params=new URLSearchParams({category,location,page,per_page:perPage});const res=await fetch('/search?'+params.toString());return await res.json()}

    function applySort(arr){if(state.sort==='rating_desc')return[...arr].sort((a,b)=>(parseFloat(b.rating||0))-(parseFloat(a.rating||0)));if(state.sort==='reviews_desc')return[...arr].sort((a,b)=>(parseInt(b.reviews_count||0))-(parseInt(a.reviews_count||0)));if(state.sort==='name_asc')return[...arr].sort((a,b)=>String(a.name||'').localeCompare(String(b.name||'')));return arr}
    function applyFilter(arr){const q=state.q.trim().toLowerCase();if(!q)return arr;return arr.filter(x=>String(x.name||'').toLowerCase().includes(q)||String(x.address_line||'').toLowerCase().includes(q))}

    function renderPagination(total,pages){const wrap=qs('pagination');wrap.innerHTML='';const mk=(t,p,a=false)=>{const b=document.createElement('button');b.className='pagebtn'+(a?' active':'');b.textContent=t;b.onclick=()=>{if(p===state.page)return;state.page=p;loadPage()};wrap.appendChild(b)};const max=7;let s=Math.max(1,state.page-3);let e=Math.min(pages,s+max-1);s=Math.max(1,e-max+1);if(state.page>1)mk('Prev',state.page-1);for(let i=s;i<=e;i++)mk(String(i),i,i===state.page);if(state.page<pages)mk('Next',state.page+1)}

    function renderCards(items){const wrap=qs('results');wrap.innerHTML=items.map(renderCard).join('');wrap.querySelectorAll('.card').forEach(card=>{const slides=card.querySelectorAll('.slide');const dots=card.querySelector('.dots');const nav=card.querySelector('.navbtn');if(slides.length>1){card.classList.add('multi');}else{if(dots) dots.remove(); if(nav) nav.remove();}const actions=card.querySelector('.actions');if(actions){const h=Math.max(actions.scrollHeight,34);const lift=Math.min(26,Math.max(8,Math.round(h*0.35)));card.style.setProperty('--act-h',(h+10)+'px');card.style.setProperty('--lift',lift+'px');}})}

    function renderAll(meta){const filtered=applyFilter(state.items);const sorted=applySort(filtered);renderCards(sorted);qs('resultsSection').style.display='block';qs('toolbar').style.display='flex';qs('counts').textContent=`${meta.total} items · Page ${meta.page} of ${meta.pages}`;renderPagination(meta.total,meta.pages);updatePlayerBar(meta)}

    function renderCard(x){const phone=x.phone_e164||x.phone||'';const tel=phone?`tel:${encodeURI(phoneDisplay(phone))}`:'';const wa=phone?`https://wa.me/${encodeURIComponent(String(phone).replace(/[^\d]/g,''))}`:'';const site=normalizeUrl(x.website||x.website_fallback||'');const chips=[x.category,x.gmaps_primary_category].filter(Boolean).map(v=>`<span class="chip">${sanitize(v)}</span>`).join('');const stars=x.rating?`<span class="chip chip--rating"><span class=\"star\">★</span><span class="val">${sanitize(x.rating)}</span></span>`:'';const photos=Array.isArray(x.photos)&&x.photos.length?x.photos:(x.main_photo_url?[x.main_photo_url]:[]);const slides=photos.map((u,i)=>`<img src="${sanitize(u)}" alt="" loading="lazy" class="slide ${i===0?'active':''}"/>`).join('');const dots=photos.map((_,i)=>`<span class="dot ${i===0?'active':''}" data-idx="${i}"></span>`).join('');return `<article class="card"><div class="cover slides">${slides}</div><div class="navbtn">${photos.length>1?`<button data-role="prev"></button><button data-role="next"></button>`:''}</div><div class="dots">${dots}</div><div class="card-body"><h3 class="title" dir="auto"><a href="${sanitize(x.profile_url||'#')}" target="_blank" rel="noopener noreferrer" style="color:#fff;text-decoration:none">${sanitize(x.name||'')}</a></h3><div class="chips">${chips}${stars}</div><div class="meta" dir="auto">${sanitize(x.address_line||'')}</div><div class="actions">${phone?`<a class="btn btn--call" href="${tel}">Call</a>`:''}${phone?`<button class="btn" data-copy="${sanitize(phoneDisplay(phone))}">Copy</button>`:''}${phone?`<a class="btn btn--wa" href="${wa}" target="_blank" rel="noopener">WhatsApp</a>`:''}${site?`<a class="btn btn--site" href="${sanitize(site)}" target="_blank" rel="noopener">Website</a>`:''}${(x.profile_url||'')?`<a class="btn btn--maps" href="${sanitize(x.profile_url)}" target="_blank" rel="noopener">Maps</a>`:''}</div></div></article>`}

    function debounce(fn,wait=220){let t;return(...a)=>{clearTimeout(t);t=setTimeout(()=>fn(...a),wait)}}
    function showToast(msg){const t=qs('toast');qs('toastMsg').textContent=msg;t.classList.add('show');setTimeout(()=>t.classList.remove('show'),1100)}

    document.addEventListener('click',e=>{const t=e.target.closest('[data-copy]');if(!t)return;const v=t.getAttribute('data-copy')||'';navigator.clipboard.writeText(v).then(()=>showToast('Copied phone')).catch(()=>showToast('Copy failed'))})
    document.addEventListener('click',e=>{const b=e.target.closest('.navbtn button');if(!b)return;const cover=b.closest('.card').querySelector('.cover');const slides=cover.querySelectorAll('.slide');if(!slides.length)return;let idx=0;slides.forEach((s,i)=>{if(s.classList.contains('active'))idx=i});idx=b.dataset.role==='next'?(idx+1)%slides.length:(idx-1+slides.length)%slides.length;slides.forEach((s,i)=>s.classList.toggle('active',i===idx));const dots=b.closest('.card').querySelectorAll('.dots .dot');dots.forEach((d,i)=>d.classList.toggle('active',i===idx))})
    document.addEventListener('click',e=>{const d=e.target.closest('.dots .dot');if(!d)return;const card=d.closest('.card');const slides=card.querySelectorAll('.slide');const dots=card.querySelectorAll('.dot');const idx=parseInt(d.getAttribute('data-idx')||'0',10)||0;slides.forEach((s,i)=>s.classList.toggle('active',i===idx));dots.forEach((k,i)=>k.classList.toggle('active',i===idx))})

    async function loadPage(){runStages(async()=>{const data=await fetchResults(state.category,state.location,state.page,state.perPage);state.items=data.items;state.pages=data.pages;renderAll({total:data.total,page:data.page,pages:data.pages});window.scrollTo({top:document.body.offsetTop})})}

    function updatePlayerBar(meta){const bar=document.getElementById('playerBar');if(!bar) return;const p=qs('pbPage'), P=qs('pbPages'), r=qs('pbRange');const hasPages=(meta&&meta.pages&&meta.pages>1);bar.style.display=hasPages?'block':'none';if(!hasPages) return;p.textContent=String(meta.page);P.textContent=String(meta.pages);r.max=String(Math.max(1,meta.pages));r.value=String(Math.min(meta.pages,Math.max(1,state.page)))}

    function hookPlayerBar(){const prev=qs('pbPrev'), next=qs('pbNext'), r=qs('pbRange');if(prev)prev.onclick=()=>{if(state.page>1){state.page--;loadPage()}};if(next)next.onclick=()=>{if(state.page<state.pages){state.page++;loadPage()}};if(r)r.oninput=(e)=>{const v=parseInt(e.target.value||'1',10);if(v!==state.page){state.page=v;loadPage()}}}

    function activatePanel(id){
      const sp=qs('searchPanel');
      const wasHidden=sp?sp.classList.contains('hidden'):false;
      ['homePanel','searchPanel'].forEach(pid=>qs(pid).classList.toggle('hidden',pid!==id));
      document.querySelectorAll('.nav .item').forEach(el=>{el.classList.toggle('active',el.dataset.target===id)});
      qs('pageTitle').textContent=id==='homePanel'?'Welcome':'Discover Leads';
      const resultsSection=qs('resultsSection');
      const toolbar=qs('toolbar');
      const countsEl=qs('counts');
      if(id==='homePanel'){
        if(resultsSection) resultsSection.style.display='none';
        if(toolbar) toolbar.style.display='none';
        if(countsEl){ countsEl.style.display='none'; countsEl.textContent=''; }
      } else {
        const hasItems = Array.isArray(state.items) && state.items.length>0;
        if(resultsSection) resultsSection.style.display = hasItems ? 'block' : 'none';
        if(toolbar) toolbar.style.display = hasItems ? 'flex' : 'none';
        if(countsEl) countsEl.style.display = hasItems ? 'block' : 'none';
        if(wasHidden){const c=qs('category');if(c)c.focus()}
      }
    }

    async function populateHomePreview(){
      const art=qs('homePreview');
      if(!art) return;
      if(art.classList.contains('art--logo')) return;
      try{
        const firstLoc=(document.querySelector('#location option')||{}).value||'';
        const firstCat=(document.querySelector('#categoryList option')||{}).value||'';
        if(!firstLoc||!firstCat){art.style.backgroundImage='';return;}
        const sample=await fetchResults(firstCat,firstLoc,1,1);
        const items=sample.items||[];
        const photo=(items[0]&&((items[0].main_photo_url)||((Array.isArray(items[0].photos)&&items[0].photos[0])||'')))||'';
        if(photo){art.style.backgroundImage=`url('${photo}')`;}
        if(sample.total){qs('mLeads').textContent=sample.total+'+';}
      }catch(e){}
    }

    function init(){
      hookPlayerBar();
      updatePlayerBar({pages:0});
      const form=qs('searchForm');
      const category=qs('category');
      const location=qs('location');
      const perPage=qs('perPage');
      const sortBy=qs('sortBy');
      const exportBtn=qs('exportBtn');
      const saved={category:localStorage.getItem('lf.category')||'',location:localStorage.getItem('lf.location')||'',perPage:localStorage.getItem('lf.perPage')||'',sort:localStorage.getItem('lf.sort')||''};
      const setIfOptionExists=(sel,val)=>{if(!val||!sel||!sel.options)return;for(const o of sel.options){if(o.value===val){sel.value=val;break}}};
      if(saved.category)category.value=saved.category;
      setIfOptionExists(location,saved.location);
      if(saved.perPage)perPage.value=saved.perPage;
      if(saved.sort){sortBy.value=saved.sort;state.sort=saved.sort}
      attachCategoryCombo();
      const normalizeCategory=(val)=>{const opts=Array.from(document.querySelectorAll('#categoryList option')).map(o=>o.value);const exact=opts.find(x=>x.toLowerCase()===String(val||'').trim().toLowerCase());return exact||String(val||'').trim()};
      form.addEventListener('submit',e=>{
        e.preventDefault();
        const cm=document.querySelector('.combo-menu'); if(cm) cm.style.display='none';
        state.category=normalizeCategory(category.value);
        state.location=location.value;
        state.perPage=parseInt(perPage.value||20);
        state.page=1;
        localStorage.setItem('lf.category',state.category);
        localStorage.setItem('lf.location',state.location);
        localStorage.setItem('lf.perPage',String(state.perPage));
        activatePanel('searchPanel');
        loadPage()
      });
      sortBy.addEventListener('change',()=>{state.sort=sortBy.value;localStorage.setItem('lf.sort',state.sort);renderAll({total:state.items.length,page:state.page,pages:state.pages})});
      exportBtn.addEventListener('click',()=>{const lines=[["name","category","address","phone","website","rating"],...applySort(applyFilter(state.items)).map(x=>[x.name||'',x.category||'',x.address_line||'',x.phone_e164||'',x.website||x.website_fallback||'',x.rating||''])];const csv=lines.map(r=>r.map(v=>`"${String(v).replaceAll('"','""')}"`).join(',')).join('\n');const bom="\uFEFF";const blob=new Blob([bom+csv],{type:"text/csv;charset=utf-8;"});const url=URL.createObjectURL(blob);const a=document.createElement('a');a.href=url;a.download="leads_page.csv";a.click();URL.revokeObjectURL(url);});
      document.getElementById('nav').addEventListener('click',e=>{const it=e.target.closest('.item');if(!it)return;activatePanel(it.dataset.target)});
      document.getElementById('startBtn').addEventListener('click',()=>activatePanel('searchPanel'));
      document.getElementById('jumpSearch').addEventListener('click',(e)=>{e.preventDefault();activatePanel('searchPanel')});
      const y=qs('year'); if(y) y.textContent=(new Date()).getFullYear();
    }

    (function(){ const eb=document.querySelector('.hero .eyebrow'); if(eb && !eb.querySelector('.zap')){ eb.innerHTML='<span class="zap" aria-hidden="true">⚡</span> Instant lead lists • No scraping required'; } })();

    (function(){
      const art=document.getElementById('homePreview');
      if(!art || !art.classList.contains('art--logo')) return;
      const box=art.querySelector('.logo3d');
      const shine=art.querySelector('.logo-shine');
      let raf=0;
      function tilt(mx,my){
        const r=box.getBoundingClientRect();
        const cx=r.left+r.width/2; const cy=r.top+r.height/2;
        const dx=(mx-cx)/(r.width/2); const dy=(my-cy)/(r.height/2);
        const rotX=Math.max(-14,Math.min(14,14*dy));
        const rotY=Math.max(-22,Math.min(22,-22*dx));
        box.style.transform=`rotateX(${rotX}deg) rotateY(${rotY}deg) translateZ(0)`;
        const sx=((mx-r.left)/r.width)*100; const sy=((my-r.top)/r.height)*100;
        if(shine){ shine.style.setProperty('--sx',sx+'%'); shine.style.setProperty('--sy',sy+'%'); }
      }
      function onMove(e){ const p=e.touches?e.touches[0]:e; cancelAnimationFrame(raf); raf=requestAnimationFrame(()=>tilt(p.clientX,p.clientY)); }
      function reset(){ box.style.transform='rotateX(0deg) rotateY(0deg)'; }
      box.addEventListener('mousemove',onMove,{passive:true});
      box.addEventListener('touchmove',onMove,{passive:true});
      box.addEventListener('mouseleave',reset); box.addEventListener('touchend',reset);
    })();

    init();

    (function(){
      const groups = document.querySelectorAll('.features,.usecases,.faq');
      const setDelays = (grid) => {
        const styles = getComputedStyle(grid);
        const cols = (styles.gridTemplateColumns || '').split(' ').filter(Boolean).length || 1;
        [...grid.children].forEach((el, i) => {
          const row = Math.floor(i / cols);
          const col = i % cols;
          el.style.setProperty('--d', (row * 180 + col * 40) + 'ms');
          el.style.willChange = 'opacity, transform';
        });
      };
      groups.forEach(g => { g.classList.add('reveal-stagger'); setDelays(g); });
      const io = new IntersectionObserver((entries) => { entries.forEach(e => { if (e.isIntersecting) { e.target.classList.add('is-in'); io.unobserve(e.target); } }); }, { rootMargin: '-10% 0px -10% 0px', threshold: 0.12 });
      const inView = (el) => { const r = el.getBoundingClientRect(); const vh = window.innerHeight || document.documentElement.clientHeight; return r.top < vh * 0.9 && r.bottom > 0; };
      setTimeout(() => { groups.forEach(el => { if (inView(el)) { el.classList.add('is-in'); } else { io.observe(el); } }); }, 100);
      window.addEventListener('resize', (function debounce(fn, wait=200){ let t; return ()=>{ clearTimeout(t); t=setTimeout(fn,wait) } })(() => { document.querySelectorAll('.reveal-stagger').forEach(setDelays); document.querySelectorAll('.reveal-stagger:not(.is-in)').forEach(el => { if (inView(el)) { el.classList.add('is-in'); } }); }));
    })();

    setInterval(()=>{document.querySelectorAll('.card.multi').forEach(card=>{if(card.matches(':hover'))return;const slides=card.querySelectorAll('.slide');if(slides.length<2)return;let idx=0;slides.forEach((s,i)=>{if(s.classList.contains('active'))idx=i});idx=(idx+1)%slides.length;slides.forEach((s,i)=>s.classList.toggle('active',i===idx));const dots=card.querySelectorAll('.dots .dot');dots.forEach((d,i)=>d.classList.toggle('active',i===idx));})},4200)
  </script>
</body>
</html>
